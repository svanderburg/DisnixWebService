.\" DO NOT MODIFY THIS FILE!  It was generated by help2man 1.49.3.
.TH DISNIX-SOAP-CLIENT "1" "January 1980" "disnix-soap-client (DisnixWebService 0.10.2)" "User Commands"
.SH NAME
disnix-soap-client \- Provides access to the disnix-service through the SOAP protocol
.SH SYNOPSIS
.B disnix-soap-client
\fI\,--target targetEPR operation \/\fR[\fI\,OPTION\/\fR] \fI\,paths\/\fR
.SH DESCRIPTION
The command `disnix\-soap\-client' provides remote access to a `disnix\-service'
instance running on a machine in the network by using a SOAP/HTTP connection.
This allows the user to perform remote deployment operations on a target machine
through SOAP.
.PP
In most cases this command is not used directly, but is used by specifying the
\fB\-\-interface\fR option for a Disnix command\-line utility (such as `disnix\-env') or
by setting the `DISNIX_CLIENT_INTERFACE' environment variable. By using one of
those properties, the Disnix tools will use the given interface instead of the
standard `disnix\-client' which only provides loopback access.
.SH OPTIONS
Operations:
.SS "Operations:"
.TP
\fB\-\-import\fR
Imports a given closure into the Nix store of the
target machine. Optionally, transfers the closure
from this machine to the target machine
.TP
\fB\-\-export\fR
Exports the closure of a given Nix store path of
the target machine into a file, and optionally
downloads it
.TP
\fB\-\-print\-invalid\fR
Prints all the paths that are not valid in the Nix
store of the target machine
.TP
\fB\-r\fR, \fB\-\-realise\fR
Realises the given store derivation on the target
machine
.TP
\fB\-\-set\fR
Creates a Disnix profile only containing the given
derivation on the target machine
.TP
\fB\-q\fR, \fB\-\-query\-installed\fR
Queries all the installed services on the given
target machine
.TP
\fB\-\-query\-requisites\fR
Queries all the requisites (intra\-dependencies) of
the given services on the target machine
.TP
\fB\-\-collect\-garbage\fR
Collects garbage on the given target machine
.TP
\fB\-\-activate\fR
Activates the given service on the target machine
.TP
\fB\-\-deactivate\fR
Deactivates the given service on the target machine
.TP
\fB\-\-lock\fR
Acquires a lock on a Disnix profile of the target
machine
.TP
\fB\-\-unlock\fR
Release the lock on a Disnix profile of the target
machine
.TP
\fB\-\-snapshot\fR
Snapshots the logical state of a component on the
given target machine
.TP
\fB\-\-restore\fR
Restores the logical state of a component on the
given target machine
.TP
\fB\-\-delete\-state\fR
Deletes the state of a component on the given
machine
.TP
\fB\-\-query\-all\-snapshots\fR
Queries all available snapshots of a component on
the given target machine
.TP
\fB\-\-query\-latest\-snapshot\fR
Queries the latest snapshot of a component on the
given target machine
.TP
\fB\-\-print\-missing\-snapshots\fR
Prints the paths of all snapshots not present on
the given target machine
.TP
\fB\-\-import\-snapshots\fR
Imports the specified snapshots into the remote
snapshot store
.TP
\fB\-\-export\-snapshots\fR
Exports the specified snapshot to the local
snapshot store
.TP
\fB\-\-resolve\-snapshots\fR
Converts the relative paths to the snapshots to
absolute paths
.TP
\fB\-\-clean\-snapshots\fR
Removes older snapshots from the snapshot store
.TP
\fB\-\-capture\-config\fR
Captures the configuration of the machine from the
Dysnomia container properties in a Nix expression
.TP
\fB\-\-shell\fR
Spawns a Dysnomia shell to run arbitrary
maintenance tasks
.TP
\fB\-\-help\fR
Shows the usage of this command to the user
.TP
\fB\-\-version\fR
Shows the version of this command to the user
.SS "General options:"
.TP
\fB\-t\fR, \fB\-\-target\fR=\fI\,TARGET\/\fR
Specifies the hostname and optional port number of
the SSH server used to connect to the target
machine
.SS "Import/Export/Import snapshots/Export snapshots/Shell options:"
.TP
\fB\-\-localfile\fR
Specifies that the given paths are stored locally
and must be transferred to the remote machine if
needed
.TP
\fB\-\-remotefile\fR
Specifies that the given paths are stored remotely
and must transferred from the remote machine if
needed
.SS "Shell options:"
.TP
\fB\-\-command\fR=\fI\,COMMAND\/\fR
Commands to execute in the shell session
.SS "Set/Query installed/Lock/Unlock options:"
.TP
\fB\-p\fR, \fB\-\-profile\fR=\fI\,PROFILE\/\fR
Name of the Disnix profile. Defaults to: default
.SS "Collect garbage options:"
.TP
\fB\-d\fR, \fB\-\-delete\-old\fR
Indicates whether all older generations of Nix
profiles must be removed as well
.SS "Activation/Deactivation/Snapshot/Restore/Delete state options:"
.TP
\fB\-\-type\fR=\fI\,TYPE\/\fR
Specifies the activation module that should be
used, such as echo or process.
.TP
\fB\-\-arguments\fR=\fI\,ARGUMENTS\/\fR
Specifies the arguments passed to the Dysnomia
module, which is a string with key=value pairs
.TP
\fB\-\-container\fR=\fI\,CONTAINER\/\fR
Name of the container in which the component is
managed. If omitted it will default to the same
value as the type.
.SS "Query all snapshots/Query latest snapshot options:"
.TP
\fB\-C\fR, \fB\-\-container\fR=\fI\,CONTAINER\/\fR
Name of the container in which the component is managed
.TP
\fB\-c\fR, \fB\-\-component\fR=\fI\,COMPONENT\/\fR
Name of the component hosted in a container
.SS "Clean snapshots options:"
.TP
\fB\-\-keep\fR=\fI\,NUM\/\fR
Amount of snapshot generations to keep. Defaults
to: 1
.TP
\fB\-C\fR, \fB\-\-container\fR=\fI\,CONTAINER\/\fR
Name of the container to filter on
.TP
\fB\-c\fR, \fB\-\-component\fR=\fI\,COMPONENT\/\fR
Name of the component to filter on
.SH ENVIRONMENT
.TP
DISNIX_PROFILE
Sets the name of the profile that stores the
manifest on the coordinator machine and the
deployed services per machine on each target
(Defaults to: default)
.TP
DYSNOMIA_STATEDIR
Specifies where the snapshots must be stored on the
coordinator machine (defaults to: \fI\,/var/dysnomia\/\fP)
.TP
DISNIX_SOAP_CLIENT_USERNAME Specifies the username to use for HTTP basic
authentication
.TP
DISNIX_SOAP_CLIENT_PASSWORD Specifies the password to use for HTTP basic
authentication
.SH COPYRIGHT
Copyright \(co 2008\-2021 Sander van der Burg
